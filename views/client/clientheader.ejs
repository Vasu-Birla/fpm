
<!DOCTYPE html>
<html lang="en">


<head>
  <title>eLaw || Your Trusted Legal Partner</title>
  <meta charset="utf-8">
  <meta name="keywords" content="eLaw, Lawyers, Client, Firm">
  <meta name="description" content="eLaw - Firm & Lawyers HTML Template">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="csrf-token" content="<%= csrfToken || '' %>">
  <!-- FavIcon Link -->
  <link rel="icon" href="../assets/images/favicon.png" type="image/png" sizes="16x16">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- ✅ Tabler Icons (for: ti ti-...) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">

  <!-- Swiper Slider CSS -->
  <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">

  <!-- Fancybox CSS -->
  <link href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" rel="stylesheet">

  <!-- Animate.css -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.1.2/css/buttons.bootstrap5.min.css">

  <!-- Main Style CSS Link -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/sidebar.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/style.css">

  <link rel="stylesheet" href="../assets/csskwe/style.css">

  <!-- ✅ Optional (only if your modal/OTP uses axios) -->
  <script src="https://cdn.jsdelivr.net/npm/axios@1.7.9/dist/axios.min.js"></script>



  <style>

    /* --- Modernized Header Profile Section --- */
 
/* Wrapper adjustment */
.main-navigation ul li.sub-items .user-profile-link {
    display: flex;
    align-items: center;
    gap: 12px;
    /* background: rgba(255, 255, 255, 0.5); */
    /* Glass-like effect */
    backdrop-filter: blur(10px);
    /* border: 1px solid rgba(255, 255, 255, 0.8); */
    padding: 6px 20px 6px 6px;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.01);
}
 
.main-navigation ul li.sub-items .user-profile-link:hover,
.main-navigation ul li.sub-items.active .user-profile-link {
    /* background: #ffffff; */
    /* box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08); */
    /* Elegant float */
    transform: translateY(-1px);
}
 
/* Remove default caret from profile link */
.main-navigation ul li.profile-menu-item>a:after,
.main-navigation ul li.profile-menu-item>a:before {
    display: none !important;
}
 
/* Profile Image */
.user-profile-img {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 2px solid #ffffff;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    object-fit: cover;
}
 
/* Profile Name */
.user-profile-link span {
    font-weight: 600;
    font-size: 15px;
    color: var(--secondary-color);
    font-family: var(--body-font);
}
 
/* Modernized Dropdown Menu (Sub-menu) for Profile */
.main-navigation ul li.sub-items:has(.user-profile-link) .sub-menu,
.main-navigation ul li.sub-items .sub-menu {
    min-width: 240px;
    background: #ffffff;
    border: 1px solid rgba(0, 0, 0, 0.04);
    border-radius: 16px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
    /* Smoother shadow */
    padding: 12px;
    top: 110%;
    /* Start slightly lower for animation */
}
 
/* Invisible bridge to prevent menu from closing when moving cursor */
.main-navigation ul li.sub-items .sub-menu:before {
    content: '';
    position: absolute;
    top: -20px;
    left: 0;
    width: 100%;
    height: 25px;
    background: transparent;
}
 
/* Ensure hover state works nicely */
.main-navigation ul li.sub-items:hover .sub-menu {
    top: 100%;
    /* Move up to correct position */
}
 
/* Dropdown Items */
.main-navigation ul li ul.sub-menu li {
    border-bottom: none;
    margin-bottom: 2px;
}
 
.main-navigation ul li ul.sub-menu li a {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-radius: 10px;
    font-weight: 500;
    color: var(--common-color);
    transition: all 0.2s ease;
}
 
.main-navigation ul li ul.sub-menu li a:hover {
    background-color: var(--bg-color);
    /* Light blue tint */
    color: var(--primary-color);
    padding-left: 20px;
    /* Slide effect */
}
 
/* Additional Polish for Buttons */
.sec-btn {
    border-radius: 50px;
    padding: 0 32px;
    height: 48px;
    /* Slightly taller */
    letter-spacing: 0.5px;
    box-shadow: 0 4px 15px rgba(46, 55, 164, 0.2);
}
 
.sec-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(46, 55, 164, 0.3);
}
 
/* Mobile Responsive Overrides for Profile Menu */
@media screen and (max-width: 991px) {
    .main-navigation ul li.profile-menu-item .user-profile-link {
        background: transparent !important;
        border: none !important;
        padding: 0 !important;
        backdrop-filter: none !important;
        box-shadow: none !important;
        transform: none !important;
        justify-content: flex-start;
        gap: 15px;
    }
 
    .main-navigation ul li.profile-menu-item .user-profile-link .user-profile-img {
        width: 35px;
        height: 35px;
        border: 1px solid var(--gray-color);
    }
 
    .main-navigation ul li.profile-menu-item .user-profile-link span {
        font-size: 18px;
        color: var(--secondary-color);
    }
 
    /* Sub-menu behavior in mobile */
    .main-navigation ul li.profile-menu-item .sub-menu {
        position: relative;
        top: 0;
        left: 0;
        width: 100%;
        background: transparent;
        box-shadow: none;
        padding: 0 0 0 20px;
        margin-top: 15px;
        border: none;
        display: none;
    }
 
    .main-navigation ul li.profile-menu-item.active-sub-menu .sub-menu {
        display: block;
    }
 
    .main-navigation ul li.profile-menu-item .sub-menu li {
        margin-bottom: 12px;
    }
 
    .main-navigation ul li.profile-menu-item .sub-menu li a {
        padding: 0;
        background: transparent;
        color: var(--dark-color);
        font-size: 16px;
    }
 
    .main-navigation ul li.profile-menu-item .sub-menu li a i {
        color: var(--primary-color);
        margin-right: 12px;
    }
 
    /* Override the caret position for profile menu in mobile */
    .main-navigation ul li.profile-menu-item>a:after {
        display: block !important;
        content: "\f078";
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        font-size: 12px;
        transition: 0.3s;
    }
 
    .main-navigation ul li.profile-menu-item.active-sub-menu>a:after {
        transform: translateY(-50%) rotate(-180deg) !important;
    }
 
    .sub-menu {
        min-width: 240px;
        background: transparent !important;
        border: 1px solid rgba(0, 0, 0, 0.04);
        border-radius: 16px;
        /* box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); */
        /* Smoother shadow */
        padding: 12px;
        top: 110%;
        left: 10%;
        /* Start slightly lower for animation */
    }
}
 
/* Notification bell */
.notif-bell-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.6);
    color: var(--secondary-color);
    transition: all 0.2s ease;
}
.notif-bell-link:hover {
    background: #ffffff;
    color: var(--primary-color);
}
.notify-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    min-width: 18px;
    height: 18px;
    padding: 0 5px;
    border-radius: 999px;
    background: #ef4444;
    color: #fff;
    font-size: 11px;
    line-height: 18px;
    text-align: center;
    font-weight: 700;
}
  </style>


</head>

<body class="fixed">
<div class="main">

    <!-- Header Start -->
    <header class="site-header">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="header-box">
                        <div class="site-branding">
                            <a href="/home" title="eLaw">
                                <img src="../assets/images/logo.png" style="max-width: 50%;" alt="eLaw">
                            </a>
                        </div>
                        <div class="header-menu">
                            <nav class="main-navigation">
                                <button class="toggle-button"><span></span></button>
                                <div class="mobile-menu-box">
                                    <ul>
                                        <li>
                                            <a href="/home" title="Home">Home</a>
                                        </li>
                                        <li>
                                            <a href="/about_us" title="About">About</a>
                                        </li>
                                        <li>
                                            <a href="/services" title="Services">Services</a>
                                        </li>
                               
                               
                                        <!-- <li>
                                            <a href="/shop" title="Market Place">Market Place</a>
                                        </li> -->

                                                 <% if (!is_client) { %>

                                                          <li>
                                                            <a href="/contact" title="Contact Us">Contact Us</a>
                                                        </li>

                                                    <% } %>                              
           
                                  

                                         <% if (is_client) { %>

                                  
                                            <li class="notif-bell-item">
                                                <a href="/notifications" class="notif-bell-link" title="Notifications">
                                                    <i class="fa-solid fa-bell"></i>
                                                    <span class="notify-badge" id="notifyBellCount" hidden></span>
                                                </a>
                                            </li>

                                            <li class="sub-items profile-menu-item">
                                                <a href="javascript:void(0);" title="User Profile"
                                                    class="user-profile-link">
                                                    <img src="assets/images/favicon.png" alt="User"
                                                        class="user-profile-img">
                                                    <span>eLaw</span>
                                                </a>
                                                <ul class="sub-menu ps-0">
                                                    <li>
                                                        <a href="/cases"><i class="fa-solid fa-briefcase me-2"></i>
                                                            Cases</a>
                                                    </li>
                                                    <li>
                                                        <a href="/profile"><i class="fa-solid fa-user me-2"></i>
                                                            Profile</a>
                                                    </li>
                                                    <li>
                                                        <a href="/notifications" title="Notifications"><i
                                                                class="fa-solid fa-bell me-2"></i> Notifications</a>
                                                    </li>
                                                    <li>
                                                        <a href="/support" title="Support"><i
                                                                class="fa-solid fa-headset me-2"></i> Support</a>
                                                    </li>
                                                    <li>
                                                        <a href="/logout" title="Logout"><i
                                                                class="fa-solid fa-right-from-bracket me-2"></i>
                                                            Logout</a>
                                                    </li>
                                                </ul>
                                            </li>




                                  <% } else { %>

                                        <a href="/login" class="btn btn-primary d-flex align-items-center me-2"><i class="ti ti-lock me-1"></i> Login</a>
                                          <!-- <a href="/signup" class="btn btn-dark d-flex align-items-center"><i class="ti ti-users me-1"></i> Sign Up</a> -->

                                          <% } %>






                                    </ul>
                                    
                                  

                                </div>






                            </nav>
                   
                            <div class="black-shadow"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->

    <script>
      window.NOTIFY_CONTEXT = {
        user_type: "ClientAccount",
        user_id: <%= (typeof client !== 'undefined' && client?.client_account_id)
          ? Number(client.client_account_id)
          : (typeof client_account !== 'undefined' && client_account?.client_account_id)
            ? Number(client_account.client_account_id)
            : 0 %>
      };
    </script>
    <script defer src="/socket.io/socket.io.js"></script>
    <script defer src="/js/notify-bell.js"></script>


    <script>
document.addEventListener("DOMContentLoaded", function () {
  const currentPath = window.location.pathname.replace(/\/+$/, ""); // remove trailing slash
  const menuLinks = document.querySelectorAll(".main-navigation ul li a");

  // Clear any existing active
  document.querySelectorAll(".main-navigation ul li").forEach(li => li.classList.remove("active"));

  menuLinks.forEach(link => {
    const href = link.getAttribute("href");
    if (!href || href === "#" || href.startsWith("javascript:")) return;

    // Convert href to a pathname (works for relative + absolute)
    let linkPath = "";
    try {
      linkPath = new URL(href, window.location.origin).pathname.replace(/\/+$/, "");
    } catch (e) {
      return;
    }

    // Match exact, OR match home page cases
    const isHome =
      (currentPath === "" || currentPath === "/") &&
      (linkPath === "" || linkPath === "/");

    if (linkPath === currentPath || isHome) {
      const li = link.closest("li");
      if (li) li.classList.add("active");
    }
  });
});
</script>


<div class="kil-main-loader" aria-busy="true" aria-live="polite">
  <span class="kil-page-loader"></span>
</div>



